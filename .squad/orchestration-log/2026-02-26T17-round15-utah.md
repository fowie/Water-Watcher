# Utah — Round 15 Contributions

**Date:** 2026-02-26
**Round:** 15
**Agent:** Utah (Backend)

## Work Completed

1. **Flow History API** — `GET /api/rivers/[id]/flow-history?range=24h|7d|30d|90d` returning time-series flow data (flowRate, gaugeHeight, waterTemp, source) ordered chronologically. Prisma query with time-window filtering.

2. **Batch Conditions API** — `GET /api/rivers/batch-conditions?ids=id1,id2,...` returning latest condition per river in a single request. Supports up to 50 river IDs. Includes river relation data (name, state, difficulty).

3. **Rate Limiting Middleware Enhancement** — Differentiated rate limits for authenticated (60 req/min) vs anonymous (20 req/min) users. Added `X-RateLimit-Remaining` and `X-RateLimit-Reset` response headers.

## Decisions Authored

- (No new ADR numbers — extensions of existing BD-027 rate limiting and new endpoint implementations)
