# Utah — Round 16 Contributions

**Date:** 2026-02-26
**Round:** 16
**Agent:** Utah (Backend)

## Work Completed

1. **Weather Integration API (BD-020)** — `GET /api/rivers/[id]/weather` with deterministic mock weather service. Generates realistic data from lat/lng + day-of-year using sine-based pseudo-random. 30-min cache headers. 5-day forecast. No external API key required.

2. **Safety Alert System (BD-021, BD-022)** — New `SafetyAlert` Prisma model with type enum (CLOSURE, PERMIT_REQUIRED, HIGH_WATER, LOW_WATER, HAZARD_WARNING, WEATHER_WARNING, HAZARD) and severity enum (INFO, WARNING, CRITICAL). Three endpoints: `GET /api/rivers/[id]/safety` (public, active alerts + highWaterFlag auto-detection), `POST /api/rivers/[id]/safety` (admin-only), `GET /api/safety/active` (global active alerts with pagination). HIGH_WATER flag triggers when current flow ≥ 2x historical average.

3. **Permit Check API (BD-023)** — Added `permitRequired`, `permitInfo`, `permitUrl` fields to River model (Prisma + SQLAlchemy). `GET /api/rivers/[id]/permits` endpoint. Extended `riverUpdateSchema` for permit field updates.

## Decisions Authored

- BD-020, BD-021, BD-022, BD-023
